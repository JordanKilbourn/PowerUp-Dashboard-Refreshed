<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PowerUp — Squads</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="style.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="preconnect" href="https://powerup-proxy.onrender.com" crossorigin>
</head>
<body>
  <!-- layout.js will inject the shared shell; everything below becomes the page .content -->
  <div class="content-inner" style="padding: 12px 14px 16px;">

    <!-- Header row -->
    <div class="table-header-row" style="margin: 6px 0 10px;">
      <h3 style="font-size:16px;">Squads</h3>
      <div class="table-header-controls" style="margin-left:auto; gap:10px;">
        <label class="muted" for="s-status">Status</label>
        <select id="s-status">
          <option>All</option>
          <option>Active</option>
          <option>Paused</option>
          <option>Completed</option>
          <option>Blocked</option>
        </select>

        <label class="muted" for="s-view">View</label>
        <select id="s-view">
          <option value="all">All Squads</option>
          <option value="mine">My Squads</option>
        </select>

        <input id="s-q" type="search" placeholder="Search name, lead, members…" style="padding:6px 10px;background:#213331;color:var(--text);border:1px solid var(--accent);border-radius:4px;min-width:220px;">
        <button id="s-add" class="add-btn" type="button"><i class="fa fa-plus"></i> Add Squad</button>
      </div>
    </div>

    <!-- Metrics strip -->
    <div class="card" style="margin:0 0 10px;">
      <div class="metrics" style="display:flex;gap:18px;flex-wrap:wrap;align-items:center;">
        <div><span class="label" style="color:var(--info);margin-right:6px;">Total:</span> <span class="value" id="m-total" style="font-weight:700;">0</span></div>
        <div><span class="label" style="color:var(--info);margin-right:6px;">Active:</span> <span class="value" id="m-active" style="font-weight:700;">0</span></div>
        <div><span class="label" style="color:var(--info);margin-right:6px;">Upcoming mtgs (30d):</span> <span class="value" id="m-next" style="font-weight:700;">0</span></div>
      </div>
    </div>

    <!-- Table -->
    <div class="card table-card">
      <div class="table-scroll">
        <table id="squads-table" class="dashboard-table">
          <thead>
          <tr>
            <th data-k="Squad" data-sort="none">Squad</th>
            <th data-k="Lead" data-sort="none">Lead</th>
            <th data-k="Members" data-sort="none">Members</th>
            <th data-k="Status" data-sort="none">Status</th>
            <th data-k="Start" data-sort="none">Started</th>
            <th data-k="Next Meeting" data-sort="none">Next Meeting</th>
            <th data-k="Progress" data-sort="none" class="t-right">Progress</th>
            <th data-k="Open Tasks" data-sort="none" class="t-right">Open Tasks</th>
          </tr>
          </thead>
          <tbody id="squads-rows">
            <tr><td colspan="8" class="muted" style="text-align:center;padding:20px;">Loading…</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Empty / error message -->
    <div id="s-msg" class="muted" style="margin-top:10px; display:none;"></div>
  </div>

  <!-- Scripts -->
  <script src="scripts/api.js"></script>
  <script src="scripts/session.js"></script>
  <script src="scripts/layout.js"></script>
  <script src="scripts/squads.js"></script>
</body>
</html>
