/* === THEME === */
:root{
  --bg:#0e1415;
  --sidebar-bg:#0b1020;
  --header-bg:rgba(11,16,32,.8);
  --card-bg:#1b2d2e;
  --card-bg-hover:#254444;
  --text:#f0f0f0;
  --accent:#00ffc6;
  --success:#30d158;
  --error:#ff375f;
  --warning:#ffd60a;
  --info:#9ccfd8;
  --highlight:#00ffc3;

  --ph-track:#213331;
  --ph-track-border:rgba(255,255,255,0.08);
  --ph-fill:linear-gradient(90deg,#14e2b5,#0dcaa1);
  --ph-fill-below:#2e4a49;
}

/* === BASE === */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family:'Inter',sans-serif;background:var(--bg);color:var(--text)}

/* === LAYOUT (injected by layout.js) === */
.layout-shell{position:relative;z-index:10}

/* Sidebar */
.sidebar{
  position:fixed;left:0;top:0;bottom:0;width:72px;
  background:var(--sidebar-bg);border-right:1px solid #1f2937;
  padding:12px;transition:width .2s ease;
}
body.sidebar-expanded .sidebar{width:220px}
.sidebar .logo{display:flex;align-items:center;gap:10px;color:#e5e7eb;margin-bottom:10px}
.sidebar .logo .dot{width:10px;height:10px;background:#FF6600;border-radius:50%;box-shadow:0 0 12px #FF6600}
.sidebar .brand{display:none;font-weight:700}
body.sidebar-expanded .sidebar .brand{display:inline}
.sidebar .menu{display:flex;flex-direction:column;gap:6px;margin-top:6px}
.sidebar .menu .item{
  display:flex;align-items:center;gap:10px;color:#cbd5e1;text-decoration:none;
  padding:10px;border-radius:10px
}
.sidebar .menu .item:hover{background:#0b1328}
.sidebar .menu .item i{width:16px;text-align:center}
.sidebar .menu .item span{display:none}
body.sidebar-expanded .sidebar .menu .item span{display:inline}

/* Header */
.header{
  position:sticky;top:0;
  display:flex;align-items:center;gap:10px;
  padding:10px 14px;background:var(--header-bg);border-bottom:1px solid #1f2937;
  backdrop-filter:blur(8px);
  margin-left:72px;transition:margin-left .2s ease;z-index:5
}
body.sidebar-expanded .header{margin-left:220px}
#pu-toggle{background:#0b1328;border:1px solid #2a354b;color:#e5e7eb;border-radius:10px;padding:8px 10px}
.header .grow{flex:1}
.btn.small{padding:6px 10px;border:1px solid #2a354b;background:#111a2f;border-radius:8px;color:#e5e7eb}

/* Main content shifts with sidebar and leaves room under sticky header */
.content{
  margin-left:72px;transition:margin-left .2s ease;
  padding:16px;padding-top:14px; /* avoid overlap under header */
}
body.sidebar-expanded .content{margin-left:220px}

/* === DASHBOARD CARDS === */
.top-cards{display:flex;gap:20px;padding:15px 4px 35px}
.card{background:var(--card-bg);padding:15px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.4);transition:.3s}
.card:hover{transform:translateY(-2px);box-shadow:0 4px 10px rgba(255,140,66,.3)}
.power-card{flex:1;max-width:500px;border:2px solid var(--accent)}
.power-card h3{font-size:16px;margin-bottom:5px;color:var(--accent);font-weight:600}

.token-card{
  display:flex;align-items:center;flex-direction:column;justify-content:center;
  min-width:220px;border:2px solid var(--accent);font-weight:700;color:#facc15;text-align:center
}
.token-card h3{font-size:18px;margin-bottom:5px;color:var(--accent)}
.token-tracker{display:flex;align-items:center;gap:8px;font-size:24px;margin-top:8px}
.token-tracker i{font-size:28px;color:#facc15}

/* === TABS === */
.tab-buttons{display:flex;gap:2px;border-bottom:2px solid var(--accent);margin:0 0 8px 0}
.tab-button{
  background:var(--card-bg);border:2px solid transparent;border-bottom:none;
  color:#aaa;padding:10px 16px;border-top-left-radius:8px;border-top-right-radius:8px;
  cursor:pointer;transition:.2s
}
.tab-button:hover{background:var(--card-bg-hover);color:var(--accent);transform:translateY(-1px)}
.tab-button.active{
  background:var(--bg);color:var(--accent);border-color:var(--accent) var(--accent) transparent var(--accent);
  font-weight:700;position:relative;top:2px;z-index:1
}
.tab-panel{display:none;padding:8px 0}
.tab-panel.active{display:block}

/* === TABLES === */
.table-header-row{display:flex;align-items:center;gap:20px;margin:8px 0;flex-wrap:wrap}
.table-header-controls{display:flex;align-items:center;gap:10px}
.table-header-controls select{
  padding:6px 10px;background:#213331;color:var(--text);border:1px solid var(--accent);border-radius:4px
}
.add-btn{background:var(--accent);color:#000;font-weight:700;padding:6px 12px;border-radius:5px;border:none;cursor:pointer;transition:.2s}
.add-btn:hover{background:#ffa364;transform:scale(1.05)}
.row-count{font-size:14px;color:var(--accent)}

.table-scroll{max-height:600px;overflow:auto;border:1px solid #2d3f3f;border-radius:6px}
.dashboard-table{width:100%;border-collapse:collapse;table-layout:fixed;font-size:13px;line-height:1.35}
.dashboard-table th,.dashboard-table td{padding:10px 12px;border-bottom:1px solid #3a4e4e;vertical-align:top}
.dashboard-table thead th{position:sticky;top:0;background:#213331;z-index:2;color:var(--accent);cursor:pointer;white-space:nowrap}
.table-scroll tbody tr:nth-child(odd){background:rgba(255,255,255,0.03)}
.table-scroll tbody tr:hover{background:rgba(0,0,0,0.18)}

/* Hide scrollbars (opt-in) */
.table-scroll::-webkit-scrollbar{display:none}
.table-scroll{scrollbar-width:none;-ms-overflow-style:none}

/* Status pills */
.pill{display:inline-block;padding:3px 8px;border-radius:999px;font-size:12px;font-weight:600;line-height:1;white-space:nowrap}
.pill--green{background:var(--success);color:#000}
.pill--blue{background:#56ccf2;color:#000}
.pill--red{background:var(--error);color:#fff}
.pill--gray{background:#3a4e4e;color:#fff}

/* Column width hints (CI/Quality) */
#ci-table thead th:nth-child(1), #ci-table td:nth-child(1){width:110px}
#ci-table thead th:nth-child(2), #ci-table td:nth-child(2){width:80px;text-align:center}
#ci-table thead th:nth-child(5), #ci-table td:nth-child(5){width:120px}
#ci-table thead th:nth-child(6), #ci-table td:nth-child(6){width:200px}
#ci-table thead th:nth-child(7), #ci-table td:nth-child(7){width:130px;text-align:center}
#ci-table thead th:nth-child(8), #ci-table td:nth-child(8){width:110px}
#ci-table thead th:nth-child(10),#ci-table td:nth-child(10){width:90px;text-align:center}
#ci-table thead th:nth-child(11),#ci-table td:nth-child(11){width:120px}
#ci-table thead th:nth-child(12),#ci-table td:nth-child(12){width:70px;text-align:right}
#ci-table thead th:nth-child(13),#ci-table td:nth-child(13){width:70px;text-align:center}

#quality-table thead th:nth-child(1), #quality-table td:nth-child(1){width:80px;text-align:center}
#quality-table thead th:nth-child(2), #quality-table td:nth-child(2){width:110px}
#quality-table thead th:nth-child(6), #quality-table td:nth-child(6){width:140px;white-space:nowrap}

/* === PROGRESS BAR === */
.phbar{
  position:relative;height:16px;border-radius:999px;
  background:linear-gradient(var(--ph-track),var(--ph-track)) padding-box,
             linear-gradient(180deg,rgba(255,255,255,.18),rgba(0,0,0,.25)) border-box;
  border:1px solid var(--ph-track-border);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.05),0 2px 10px rgba(0,0,0,.25);
  overflow:hidden
}
.phbar__fill{position:absolute;top:0;left:0;height:100%;width:0%;background:var(--ph-fill);transition:width .35s ease}
.phbar__fill.below{background:var(--ph-fill-below)}
.phbar__thumb{position:absolute;top:50%;width:14px;height:14px;background:#fff;border:2px solid rgba(0,0,0,.15);border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 1px 4px rgba(0,0,0,.35);pointer-events:none;transition:left .35s ease}
.power-card p{margin-bottom:10px;font-size:15px;font-weight:500}
.ph-msg{display:block;margin-top:8px;font-size:13px;opacity:.97}
